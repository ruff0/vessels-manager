<!DOCTYPE html>
<html data-ng-app="app" data-ng-controller="AppCtrl">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Vessels Manager</title>
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("third/bootstrap/css/bootstrap.min.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("third/bootstrap/css/bootstrap-theme.min.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/ship.ico")">
    </head>
    <body>
        <div role="main" class="container">
            <h1>Vessel Manager</h1>
            <div class="row">
                <div class="col-md-2">
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#vessel-form" data-action="create">
                        Create a new Vessel
                    </button>
                </div>
                <div class="col-md-3 col-md-offset-7">
                    <form class="form-inline">
                        <div class="form-group">
                            <label class="sr-only" for="exampleInputAmount">Filter by Vessel's name</label>
                            <div class="input-group">
                                <div class="input-group-addon"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></div>
                                <input type="text" class="form-control" id="vessel-name" name="filter-vessel-name" placeholder="Filter by Vessel's name">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <table class="table table-hover" align="center">
                <thead>
                    <tr>
                        <td>Name</td>
                        <td>Width</td>
                        <td>Height</td>
                        <td>Draft</td>
                        <td>Last Coords</td>
                        <td>Actions</td>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="vessel in vessels | orderBy:['name']">
                        <td>{{vessel.name}}</td>
                        <td>{{vessel.width}}</td>
                        <td>{{vessel.height}}</td>
                        <td>{{vessel.draft}}</td>
                        <td>{{vessel.lastCoordinate.latitude}}, {{vessel.lastCoordinate.longitude}}</td>
                        <td>
                            <a class="btn btn-default btn-xs" href="#" 
                                data-toggle="modal" data-target="#vessel-form" 
                                data-action="edit" data-name="{{vessel.name}}">Edit</a>
                            <a class="btn btn-xs btn-danger" href="#">Delete</a>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="row">
                <div class="col-md-4 col-md-offset-3">
                    <nav>
                        <ul class="pagination">
                            <li class="disabled">
                                <a href="#" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                            <li ng-repeat="page in pages">
                                <a href="#">{{page}}</a>
                            </li>
                            <li>
                                <a href="#" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="col-md-3 col-md-offset-2">
                    <select id="max" name="max" class="form-control">
                        <option value="" disabled selected>Vessels per page</option>
                        <option value="5">5 Vessels</option>
                        <option value="10">10 Vessels</option>
                        <option value="15">15 Vessels</option>
                        <option value="20">20 Vessels</option>
                    </select>
                </div>
            </div>
        </div>
        
        <!--- VESSEL FORM -->

        <div class="modal fade" id="vessel-form" tabindex="-1" role="dialog" aria-labelledby="form-label" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="form-label">Vessel</h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label for="vessel-name" class="control-label col-md-3">Name:</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" id="vessel.name"
                                    placeholder="Name">
                                </div>
                                
                            </div>
                            <div class="form-group">
                                <label for="vessel-width" class="control-label col-md-3">Width (mts):</label>
                                <div class="col-md-3">
                                    <input type="number" class="form-control" id="vessel.width"
                                    placeholder=" Width (mts)">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="vessel-height" class="control-label col-md-3">Height (mts):</label>
                                <div class="col-md-3">
                                    <input type="number" class="form-control" id="vessel.height"
                                    placeholder="Height (mts)">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="vessel-draft" class="control-label col-md-3">Draft (mts):</label>
                                <div class="col-md-3">
                                    <input type="number" class="form-control" id="vessel.draft" 
                                    placeholder="Draft (mts)">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="vessel-width" class="col-md-3 control-label">Last seen coords:</label>
                                <div class="col-md-9 form-group row">
                                    <div class="col-md-4">
                                        <input type="number" class="form-control" name="vessel.lastCoordinate.latitude"
                                        placeholder="Latitude">
                                    </div>
                                    <div class="col-md-4">
                                        <input type="number" class="form-control" name="vessel.lastCoordinate.longitude"
                                        placeholder="Longitude ">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- END VESSEL FORM -->
        
        <!-- DELETE CONFIRMATION -->
        <div class="modal fade" id="confirm-delete" tabindex="-1" role="dialog" aria-labelledby="delete-confirm-label" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="delete-confirm-label">Are you sure?</h4>
                    </div>
                    <div class="modal-body">
                        You are going to delete <strong class="delete-vessel-name"></strong>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
                        <a href="#" class="btn btn-danger danger">Yes</a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- END DELETE CONFIRMATION-->
        <script src="@routes.Assets.at("javascripts/library/jquery-1.11.2.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("third/bootstrap/js/bootstrap.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/library/angularjs-1.13.14.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/library/angular-resource.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/library/angular-route.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/main.js")" type="text/javascript"></script>
        
        <script>
        $('#vessel-form').on('show.bs.modal', function (event) {
            var button = $(event.relatedTarget)
            var action = button.data('action')
            var modal = $(this)
            switch(action) {
            case "create":
                modal.find('.modal-title').text('Create new Vessel')
                modal.find('.btn-primary' ).text('Create')
                break;
            case "edit":
                modal.find('.modal-title').text('Edit Vessel: ' + button.data('name'))
                modal.find('.btn-primary' ).text('Update')
                break;
                
            }
        })

        $('#confirm-delete').on('show.bs.modal', function(e) {
            var button = $(event.relatedTarget )
            var modal = $(this)
            
            
            
        });
        </script>
    </body>
</html>